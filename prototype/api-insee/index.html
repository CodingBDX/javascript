<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>entreprises</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


</head>
<body>
<h1>entreprises</h1>

<table class="table">
	<thead>
		<tr>
			<th scope="col">#</th>
			<th scope="col">Numero</th>
			<th scope="col">Nom</th>
			<th scope="col">Adresse</th>
		</tr>
	</thead>
	<tbody>
		
<th scope="row">2</th>

<td id="entreprise_numero" class="display:inline-block;color:red"></td>

			<td id="entreprise_nom"></td>
<td id="entreprise_adresse"></td>


			
		</tr>
		
	</tbody>
</table>
<script>
	// function pour recuperer des donnees de l'api insee, on reduit les functions ou url dans des variables pour faciliter la lecture

const ul = document.getElementById('entreprises');
const url = 'https://entreprise.data.gouv.fr/api/sirene/v1/full_text/montpellier';





// c'est ici que la magie opÃ¨re, puisque cela recupere la data de l url en json
fetch(url).then((resp) => resp.json()).then(function (data) {
let entreprises = data.etablissement;
// comme on a plusieurs resultats, il faut les recuperers individuellements
return entreprises.map(function (entreprise) {

let td = document.createElement('td');
document.querySelector('#entreprise_nom').innerHTML += `<p class="display:inline-block">${entreprise.l1_normalisee}</p>`;

document.querySelector('#entreprise_adresse').innerHTML += `<p class="display:inline-block">${entreprise.l4_normalisee}</p>`;

document.querySelector('#entreprise_numero').innerHTML += `<p class="display:inline-block">${entreprise.id}</p>`;







})

}).catch(function (error) {
console.log(error);
});
</script>


</body>
</html>




